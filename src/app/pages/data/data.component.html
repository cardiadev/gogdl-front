<div class="data-layout">
  <div class="content-area" (scroll)="onScroll($event)">
    <div class="data-container">
      <h1>{{ "DATA.TITLE" | translate }}</h1>

      <!-- Parking Statistics -->
      <div class="stats-grid">
        <div class="stat-card">
          <mat-icon>local_parking</mat-icon>
          <h3>{{ "DATA.TOTAL_PARKINGS" | translate }}</h3>
          <p class="stat-number">247</p>
        </div>

        <div class="stat-card">
          <mat-icon>access_time</mat-icon>
          <h3>{{ "DATA.AVG_TIME" | translate }}</h3>
          <p class="stat-number">45 min</p>
        </div>

        <div class="stat-card">
          <mat-icon>trending_up</mat-icon>
          <h3>{{ "DATA.USAGE_TODAY" | translate }}</h3>
          <p class="stat-number">78%</p>
        </div>

        <div class="stat-card">
          <mat-icon>location_on</mat-icon>
          <h3>{{ "DATA.FAVORITE_ZONE" | translate }}</h3>
          <p class="stat-text">Centro Hist√≥rico</p>
        </div>
      </div>

      <!-- Recent Activity -->
      <div class="recent-activity">
        <h2>{{ "DATA.RECENT_ACTIVITY" | translate }}</h2>
        <div class="activity-list">
          @for (activity of displayedActivities(); track activity.id) {
            <div class="activity-item">
              <mat-icon>{{ activity.icon }}</mat-icon>
              <div class="activity-details">
                <p class="activity-title">{{ activity.title }}</p>
                <p class="activity-time">{{ activity.time }}</p>
              </div>
              <span class="activity-cost">${{ activity.cost }}</span>
            </div>
          }

          <!-- Loading Spinner -->
          @if (isLoading()) {
            <div class="loading-container">
              <mat-spinner diameter="32"></mat-spinner>
              <p class="loading-text">{{ "DATA.LOADING_MORE" | translate }}</p>
            </div>
          }

          <!-- End Message -->
          @if (!hasMoreData() && !isLoading() && displayedActivities().length > 0) {
            <div class="end-message">
              <p>{{ "DATA.NO_MORE_ITEMS" | translate }}</p>
            </div>
          }
        </div>
      </div>
    </div>
  </div>

  <div class="nav-area">
    <app-bottom-nav></app-bottom-nav>
  </div>
</div>
