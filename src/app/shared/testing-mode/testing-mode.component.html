<div class="testing-mode">
  <!-- FLOAT BTN -->
  <button class="floating-btn" (click)="toggleMenu()">
    <mat-icon>{{ isMenuOpen() ? 'close' : 'settings' }}</mat-icon>
  </button>

  <!-- DROP MENU -->
  @if (isMenuOpen()) {
    <div class="menu">
      <button (click)="clearLocalStorage()">{{ "TESTING_MODE.RESET_APP_STATE" | translate }}</button>
      <button (click)="resetUserData()">{{ "TESTING_MODE.RESET_LOGIN_DATA" | translate }}</button>

      <!-- Test Locations Section -->
      <div class="test-locations-section">
        <h4>{{ "TESTING_MODE.TEST_LOCATIONS.TITLE" | translate }}</h4>
        <button class="test-location-btn origin" (click)="setTestLocationAsOrigin()">
          üìç {{ "TESTING_MODE.TEST_LOCATIONS.USE_ORIGIN" | translate }}
          <small>{{ "TESTING_MODE.TEST_LOCATIONS.ORIGIN_NAME" | translate }}</small>
        </button>
        <button class="test-location-btn destination" (click)="setTestLocationAsDestination()">
          üéØ {{ "TESTING_MODE.TEST_LOCATIONS.USE_DESTINATION" | translate }}
          <small>{{ "TESTING_MODE.TEST_LOCATIONS.DESTINATION_NAME" | translate }}</small>
        </button>
        <button class="test-location-btn reset" (click)="resetToRealLocation()">
          üåç {{ "TESTING_MODE.TEST_LOCATIONS.USE_REAL_GPS" | translate }}
        </button>
        <button class="test-location-btn route" (click)="generateTestRoute()">
          üó∫Ô∏è {{ "TESTING_MODE.TEST_LOCATIONS.GENERATE_TEST_ROUTE" | translate }}
        </button>
        <button class="test-location-btn clear" (click)="clearTestRoute()">
          üßπ {{ "TESTING_MODE.TEST_LOCATIONS.CLEAR_TEST_ROUTE" | translate }}
        </button>
      </div>

      <!-- Language flags -->
      <div class="language-selector">
        <button
          class="flag-button"
          [class.active]="currentLanguage() === 'es'"
          (click)="setLanguage('es')">
          üá™üá∏ ES
        </button>
        <button
          class="flag-button"
          [class.active]="currentLanguage() === 'en'"
          (click)="setLanguage('en')">
          üá∫üá∏ EN
        </button>
      </div>

      <!-- Splash toggle -->
      <div class="splash-toggle">
        <span>{{ "TESTING_MODE.SPLASH" | translate }}:</span>
        <mat-slide-toggle
          [checked]="isSplashEnabled()"
          (toggleChange)="toggleSplashScreen()">
        </mat-slide-toggle>
      </div>
    </div>
  }
</div>
